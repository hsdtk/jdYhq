/*
商品库存监控
环境变量：
TK_SIGN 激活码 请关注公众号cxt_wg回复“监控激活码”获取激活码
STOCK_GOODS 监控商品Id多个用&符号分隔 不需监控了该值改为0
STOCK_AREA 监控地区ID不设置默认江苏南京 示例12_904_3375或12-904-3375

===================quantumultx================
[task_local]
#商品库存监控
0-59/5 0,7-23 * * * https://gitee.com/cxtwg2/jdYhq/blob/main/jd_stock_con.js, tag=商品库存监控, img-url=https://raw.githubusercontent.com/jd.png, enabled=true
=====================Loon================
[Script]
cron "0-59/5 0,7-23 * * *" script-path=https://gitee.com/cxtwg2/jdYhq/blob/main/jd_stock_con.js, tag=商品库存监控
*/
const $ = new Env('商品库存监控');

var _0xodh='jsjiami.com.v6',_0xodh_=['‮_0xodh'],_0x364b=[_0xodh,'ZMK4wrbCoEU=','w4TCiMKXHMOZw4vCpiPDmQ==','wrfCkgwfwpDDk8KswpvDlQ==','w4tzw5R8LA==','w5BLf3PCsw==','wojCoE5UwpHDqVFPw4E=','w5vCrAfCg24=','w48/CsONUg==','wr7DnMOnSk4=','wqd+Rg==','KcOdK8KVEMOSew==','wq5TJw==','wqvCtB0kwow=','K0wbwrvDtA==','LMONacKhw6w=','EsO+LQ==','wrVyVjh5','wqkVwq7Ch8K2','acOWw6h2Yw==','SmEtIg0Ww6AKPA==','w41yakzCt03CoMOFYA==','w5ATwqDCjMKa','XsKBakHDuw==','woTCrsOnJh0=','w4HDpcOfw5k6','wr/CmFDCgGY=','wrLCnMOPLCzCrnhvQQ==','CA/DhsK5w7B+TcKXw4w=','w6M7wrrCl8KLMsOp','w5lifGvCqlLCrA==','wpLDtmjCvsOU','WsKzwrTDs04=','DsK0JA==','DcOSaMKVw44=','w60pw4vDnQ==','wqTCheWli+i0q8OKw6/ljZnlm7zDvcKt','wqwBworCssKc','wpjCgXtLwqw=','w6cKwpnCr8Kr','wpR3cyhy','w7zDmg0=','woXCjS3DusOJVcOZ','w73Dlh98wrTCrsKhecKpw7k=','bMOhw7pPXA==','w6nDvBtewpE=','XXVWXjQ=','DsO6PcOwYw==','wqrDrkfCmMOW','T3ZKQSg=','wqfCsRLDosOE','w5sew5TDl8Oj','f3R3QyY=','w7DCqWTCsnk=','wrTDpFPCo8Ot','bEMzKAg=','w6HDu089ccKqWhkqw4XDvw==','w7VeYUrCsg==','w5lifHLCrFHCvcOD','wp5bNnsz','eMOVw71pfsKjwoEw','w6cMFcOZUA==','KcO5TMK1w4I+w6TDpA==','f2/CmMK/w7I=','EMOKw6fDjMO4f2Y=','wqbCjMOZGznCqHQ=','w6TCr2bCo0g=','b8KtwpXCuVjDsHPCjg==','w4YKw57DncOg','w5lifHLCqlHCvMOfYsOi','cUjChcKKw5IVD8ODw5bClQ==','wqVZNMO0w73CosOvW3nDsQ==','wozDp8O8V3k=','wqPCgho/woHDgsKqwpvDlg0=','HhvCssOKe8KsUGbCr3s=','SnciJxPDvERTZMKQwo7DnBkqw40=','5p+b5Y+0546QOVjCjsOdDmbCpcOmccOPGcK7w5XmlrPkubvkuqfkvK/ovq7ooa/pg53nn5zvv4w=','woPDpy/DnybDrsOpOcKSwqLDjQ==','A+aXtOi1qA==','wrbCnRolwok=','5r2+5rS856CJ6ZSm6Kys5oip5bS76L2s5pyYwr0=','wpJNA8ORw4Q=','5pyK5qGP5rae5YiV5r235rWl56K4woA=','w6TDm8Ou','w4DDqQNawpE=','5pyK6YeC57676Zyl6KS255qP5oye55io5ZSB5ZCo776r','wovDnsOF','wqnCuV7CvG3CiMKD','UsKuwonDrk8=','D8OsAMKPNA==','DMOCPsOhfA==','NwHCug==','QmbCrsKUw7I8NA==','wqs2wr4=','w4XCnBjCgFg=','EzjClsKgw5g=','wq5/Vw==','wq/DkXjCkMOj','wqnCiWBNwqE=','wqfCocOGCzI=','J8Oew5DDoMOJ','wqvClEBzwoo=','w795NMOtw4Y=','w45UFcORw64=','YcO0wrvDhcKL','SHwg','e8KzRFDDgsO+woPCg8OcXMOq','UFZ3STg=','wpjCnHc=','6K275Y+s55mm5o6i5ZSg5ZK8542p5aOT5Y+o6Ye/5omB5Yuf77yq','w6Ewwrg=','wq7Cpk7CrG/CkMKKOGvDt8KG','w5tpfg==','OcOoSsKdw6A=','RMOtwrrDtcK7wo17','w7TDu0sXZcKlUw==','w4ghw4PDlcO9','w57Ck8KRCsOVw7bCqQ==','wq7CuFh5wqXCnsOE','wolVJcOUw5k=','GSfDngAe','w7HClMKxHcOd','VXso','w6lSe1bCgQ==','wrjCmMOFFxY=','cHd2RTc=','w5LDpFo3ag==','FUQV','ATvCg8K3w4bClnzCvEfDjw==','TMObwo7DocKb','G8O/PA==','wqjCgWNkwq7DhHlzw6Mu','w61TR3zCiGDCiMO5QsOQ','B8K1NQ==','wq7Cpk7CrG/CkMKMJWHDsg==','Ak8TwpLCml/CoQ==','RMK9wrXCnFY=','w5fDtsOaw6M0w71hwogLIw==','OcO9UcKM','woPDqlHCjsO0','wpBTQxl0','VEdrSDvCj8Ohw7TDlUk=','wrnDpETCq8Ou','QX0x','w4I0EcOJ','w63DieWmnOi1unnDvOWOjuWboRw7','w5poZlo=','6Ky85Y6P55iI5o2s5Z+25Y2Q54yx5aO65Y+j6Yey5ou+5Ym377yB','GwPDlR4e','5pyk6LS15LuQ772wEsOkXEpkw4/DgsKcHjrDm8KzwoZ9CmcgDMKoBw==','A3oiBxY=','wo3ku7bmnYPku6k=','DTnDj8KSw60=','HeaXgui0og==','FD/Ch8KQw58=','w7vmn4PnnYhz','KMOwJsOMQg==','wpFvNMOVw5I=','wojCrAU7wpQ=','wpxbJ2gt','w5jCuMKnDMO8','w5DCjMKxIcOc','w6Qtw5I=','KcObUsK2w6w=','JsODw4fDnMOA','F+S6iOadqOS4lg==','w58CPcOCQg==','w5bDvUwJfg==','wqfCtWvCq20=','w5BVCg==','6K+I5rGY5aSv6LSi772g6K2f5qOI5py7576O6LWm6YS16KyU','wrTCk2pVwrA=','Mw3Ch8OKcA==','MMOCfcKuwr4=','wqjCiAk=','wp9xHl0s','wrYjwoPCisKI','ZUbChMKUw48aDsOS','wrltOA==','T8OKwodGw6Y=','wqjCl0ZwwrY=','w6rDsVw=','woF6OcOWw6A=','w5LDqnwXZQ==','woZ2MG0pQsO/w7nDmMK7','G8OAw7Q=','GcO2TMKxw7Q=','WFUJFQM=','f8KdwqrCtVo=','flEEKAI=','wpPCgMOFEx4=','WMKJwoU=','w5M0wrrCisK7','w4RiK8Ocw6o=','dcOowoB2w48=','BsODw5TDucOV','wo/CiWdWwo/CosOgw4sawpA=','w5PCiG7CqnlqHw==','BwXDvw==','wrNVPkcL','bcKmwpc=','bE5RRCfDt0nCjMKaw4g=','wppwM2w0','EVkzwpXCvQ==','wqJRTylWwrPDjSF9wrQ=','wovCqQEgwqk=','D8Odw5HDi8OB','ElYUwrLDiQ==','RsKDwpLDlkTCuAs=','w5bDtMO3w7EP','Q01rSQ==','XMKSwpbDilbDoUHCicK5e0XCtyfDj8OMwogJT8KNDCbCnsOew5rDocKAOzxCAsKqwooHOE9sw540B2lOwpoAw5nDjy3DuQ==','GXtsYg3ClQ==','wooKQQ==','w6fDrksXbcKlVzQmw4vDo0nCksKxGMK6wowUVkXDv8KdS8KILA/Ck8OP','LBrDqSoo','c8KWwpPDn3U=','w5ogLMO2Vg==','Ax7DrD8Le8OWe3QBT3YHElzDrcOE','MAvDgMKAw6k=','B8OcDMKQNw==','S8KPamHDisOOwqDCqcOSbA==','w6c2wq/CscKhMMOoakTDkA==','wolmTBtq','wpnDgnLCn8O1','woIdRCgJw5HDjihgwrvCtm/DjFnDocOWVcK+w5sAABTCoFXCoMKCw55qIcK0I8OVXgV0Vg==','f8KQwpvCl1k=','DcO7O8KcEw==','wqLDp17CoMOC','w5o8w67DgMOy','wq/CrUR8wrA=','WnwuIzoLw60BGlg=','Cz3Cj8Kaw7U=','w49KAcOgw5g=','G8OyLcKiCw==','wqDDhnfCqsOH','DcO+JsOCXQ==','w5hJw5FzCA==','HXMKwoHDqg==','w7F9P8Oow7Y=','I2Q1wpPDlg==','H8ONw7XDr8Os','JRLDjjUw','w7NAWl7CmQ==','w419w6VkPA==','bsK6wo7CnHTDrWDCj8OKNsKywoc=','VkpXbzU=','5r+I5rez56Og6Zeo6K+Y5oqT5bez6Ly65p6WdQ==','d8OEw71UYsO3w5p3ZcKYTjl1w6sXY3w=','QcO/wqVJw549w5jDmC7ChsOEYSFIRV8lIsKywo/ClhJuwpNAw7nDlF8=','w7ZQQkrCqw==','5r2E5rWl56OP6Zea6KyN772e','5r6w5rSR56Gi5bSM6Ly85pyj77+F','wpTCg2lEwoo=','w6rDrmwqdg==','jsjiNaKmil.IcoHm.hArrvXIR6BEh=='];if(function(_0x1d2037,_0x5b0b1c,_0x36b796){function _0x5c6f3d(_0x41b27f,_0x2273ea,_0x4c4013,_0x25ee14,_0x1ad590,_0x48ff44){_0x2273ea=_0x2273ea>>0x8,_0x1ad590='po';var _0x340a2b='shift',_0x18a56f='push',_0x48ff44='‮';if(_0x2273ea<_0x41b27f){while(--_0x41b27f){_0x25ee14=_0x1d2037[_0x340a2b]();if(_0x2273ea===_0x41b27f&&_0x48ff44==='‮'&&_0x48ff44['length']===0x1){_0x2273ea=_0x25ee14,_0x4c4013=_0x1d2037[_0x1ad590+'p']();}else if(_0x2273ea&&_0x4c4013['replace'](/[NKlIHhArrXIRBEh=]/g,'')===_0x2273ea){_0x1d2037[_0x18a56f](_0x25ee14);}}_0x1d2037[_0x18a56f](_0x1d2037[_0x340a2b]());}return 0xd3aab;};return _0x5c6f3d(++_0x5b0b1c,_0x36b796)>>_0x5b0b1c^_0x36b796;}(_0x364b,0x149,0x14900),_0x364b){_0xodh_=_0x364b['length']^0x149;};function _0x177a(_0xfdca3c,_0x48e888){_0xfdca3c=~~'0x'['concat'](_0xfdca3c['slice'](0x1));var _0x478645=_0x364b[_0xfdca3c];if(_0x177a['shtbhk']===undefined){(function(){var _0xa391dd=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x4c87d1='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0xa391dd['atob']||(_0xa391dd['atob']=function(_0x3a0eb7){var _0x422485=String(_0x3a0eb7)['replace'](/=+$/,'');for(var _0x5ab80c=0x0,_0x44427d,_0x21172f,_0x3dfd4d=0x0,_0x141042='';_0x21172f=_0x422485['charAt'](_0x3dfd4d++);~_0x21172f&&(_0x44427d=_0x5ab80c%0x4?_0x44427d*0x40+_0x21172f:_0x21172f,_0x5ab80c++%0x4)?_0x141042+=String['fromCharCode'](0xff&_0x44427d>>(-0x2*_0x5ab80c&0x6)):0x0){_0x21172f=_0x4c87d1['indexOf'](_0x21172f);}return _0x141042;});}());function _0x23a5b3(_0x13a3cd,_0x48e888){var _0x5db3be=[],_0x20c1dc=0x0,_0x242d50,_0x419bcb='',_0x4f0ae0='';_0x13a3cd=atob(_0x13a3cd);for(var _0x5c53f6=0x0,_0x28f1c0=_0x13a3cd['length'];_0x5c53f6<_0x28f1c0;_0x5c53f6++){_0x4f0ae0+='%'+('00'+_0x13a3cd['charCodeAt'](_0x5c53f6)['toString'](0x10))['slice'](-0x2);}_0x13a3cd=decodeURIComponent(_0x4f0ae0);for(var _0x4c77ad=0x0;_0x4c77ad<0x100;_0x4c77ad++){_0x5db3be[_0x4c77ad]=_0x4c77ad;}for(_0x4c77ad=0x0;_0x4c77ad<0x100;_0x4c77ad++){_0x20c1dc=(_0x20c1dc+_0x5db3be[_0x4c77ad]+_0x48e888['charCodeAt'](_0x4c77ad%_0x48e888['length']))%0x100;_0x242d50=_0x5db3be[_0x4c77ad];_0x5db3be[_0x4c77ad]=_0x5db3be[_0x20c1dc];_0x5db3be[_0x20c1dc]=_0x242d50;}_0x4c77ad=0x0;_0x20c1dc=0x0;for(var _0x4fe70f=0x0;_0x4fe70f<_0x13a3cd['length'];_0x4fe70f++){_0x4c77ad=(_0x4c77ad+0x1)%0x100;_0x20c1dc=(_0x20c1dc+_0x5db3be[_0x4c77ad])%0x100;_0x242d50=_0x5db3be[_0x4c77ad];_0x5db3be[_0x4c77ad]=_0x5db3be[_0x20c1dc];_0x5db3be[_0x20c1dc]=_0x242d50;_0x419bcb+=String['fromCharCode'](_0x13a3cd['charCodeAt'](_0x4fe70f)^_0x5db3be[(_0x5db3be[_0x4c77ad]+_0x5db3be[_0x20c1dc])%0x100]);}return _0x419bcb;}_0x177a['IdylhC']=_0x23a5b3;_0x177a['JlhNnk']={};_0x177a['shtbhk']=!![];}var _0x12023b=_0x177a['JlhNnk'][_0xfdca3c];if(_0x12023b===undefined){if(_0x177a['WnMvTs']===undefined){_0x177a['WnMvTs']=!![];}_0x478645=_0x177a['IdylhC'](_0x478645,_0x48e888);_0x177a['JlhNnk'][_0xfdca3c]=_0x478645;}else{_0x478645=_0x12023b;}return _0x478645;};let notify='';let jdNotify=!![];try{notify=$['isNode']()?require('./sendNotify'):'';}catch(_0x2ac7d6){jdNotify=![];console['log'](_0x177a('‮0','GwIl'));}let jhmMsg='请关注公众号cxt_wg回复“监控激活码”获取激活码！';let goodId='';let areaId=_0x177a('‮1','ekpi');let tips='';!(async()=>{var _0x2d3075={'uTHXe':function(_0x5d5f6a,_0x4febf6){return _0x5d5f6a+_0x4febf6;},'xdhAb':_0x177a('‮2','H4*p'),'rnxXB':function(_0x1c68a1,_0x8b4dc7){return _0x1c68a1(_0x8b4dc7);},'LweUH':'./sendNotify','WUsiB':function(_0x2c6cce,_0x2996b7){return _0x2c6cce<_0x2996b7;},'yqhHN':function(_0x355092,_0x4a047c){return _0x355092>_0x4a047c;},'TzaLn':function(_0x30e7df,_0x12dae8){return _0x30e7df+_0x12dae8;},'fHkTj':function(_0x538f09,_0x2e2b52){return _0x538f09===_0x2e2b52;},'kkwOP':_0x177a('‮3','6[RG'),'rStAO':function(_0x2e91f6,_0x469fcb,_0x5bd608){return _0x2e91f6(_0x469fcb,_0x5bd608);},'wIhfN':function(_0x582a62,_0x204cdd){return _0x582a62+_0x204cdd;},'AWZTU':_0x177a('‮4','1%m6'),'DPEhp':_0x177a('‫5','KBvw'),'CCYdj':_0x177a('‫6','DQT3'),'wtreM':function(_0x4b0732,_0x45f9bb){return _0x4b0732>_0x45f9bb;},'KiemM':_0x177a('‫7','wIMd'),'rMFOf':function(_0x5dacb6,_0x1eb8d3){return _0x5dacb6===_0x1eb8d3;},'FiDrp':_0x177a('‫8','EFJv'),'oTwyY':_0x177a('‮9','DQT3'),'aXPqX':function(_0x2c373c,_0x463e2c){return _0x2c373c>_0x463e2c;},'LuTma':'读取监控地区环境变量成功：','aiDYr':function(_0x5c8842,_0x8155c1){return _0x5c8842*_0x8155c1;},'YoaFr':function(_0x3fe5a6){return _0x3fe5a6();},'avcSI':function(_0x28ed21,_0x50d17d){return _0x28ed21&&_0x50d17d;}};if(process[_0x177a('‫a','wZ)[')][_0x177a('‮b','JYvP')]){if(_0x2d3075[_0x177a('‮c','thU7')](_0x177a('‫d','F[)C'),_0x2d3075['kkwOP'])){if(!_0x2d3075[_0x177a('‫e','jB3M')](getQmExpireDate,process[_0x177a('‮f','ntg*')][_0x177a('‮10','VPSY')],0x1)){console[_0x177a('‮11','yFE#')](_0x2d3075[_0x177a('‫12','ekpi')](_0x2d3075[_0x177a('‫13','ntg*')],jhmMsg));return;}}else{console[_0x177a('‫14','vOlY')](_0x2d3075[_0x177a('‫15','*7He')](_0x2d3075[_0x177a('‮16','Kt%(')]('商品',sId),_0x2d3075['xdhAb']));}}else{if(_0x2d3075[_0x177a('‮17','wIMd')](_0x177a('‫18','XRCR'),_0x2d3075['DPEhp'])){console['log'](_0x2d3075[_0x177a('‮19','Kt%(')](_0x2d3075[_0x177a('‮1a',']#JU')],jhmMsg));return;}else{notify=$['isNode']()?_0x2d3075[_0x177a('‮1b',']#JU')](require,_0x2d3075[_0x177a('‮1c','M]Lf')]):'';}}if(process[_0x177a('‫1d','viS5')][_0x177a('‮1e','^d]l')]&&_0x2d3075[_0x177a('‮1f','*$kW')](process[_0x177a('‫20','JYvP')]['STOCK_GOODS']['length'],0x5)){console['log'](_0x177a('‫21','TiDC')+process[_0x177a('‮22','MHLu')][_0x177a('‫23','JYvP')]);goodId=process[_0x177a('‫24','1%m6')]['STOCK_GOODS'];if(_0x2d3075[_0x177a('‮25','zq^3')](goodId[_0x177a('‮26','M]Lf')]('&'),-0x1)){goodId=goodId[_0x177a('‫27','9WQG')](/&/g,_0x2d3075[_0x177a('‫28','vCuR')]);}else if(goodId[_0x177a('‮29','XUq*')](',')>-0x1){goodId=goodId[_0x177a('‫2a','Kt%(')](/,/g,_0x2d3075[_0x177a('‮2b','KBvw')]);}}else{if(_0x2d3075[_0x177a('‫2c','Zpzx')](_0x2d3075['FiDrp'],_0x2d3075[_0x177a('‫2d','XUq*')])){console[_0x177a('‮2e','H4*p')](_0x2d3075['oTwyY']);return;}else{let _0xbf801=qlcmystr['indexOf'](codeArr[i]);if(_0x2d3075[_0x177a('‫2f','1%m6')](_0xbf801,0x0)||_0x2d3075[_0x177a('‮30','wIMd')](_0xbf801,qlcmystr['length'])){return null;}if(_0x2d3075[_0x177a('‫31','*$kW')](_0xbf801,0xa)){retCode=_0x2d3075['TzaLn'](_0x2d3075['TzaLn'](retCode,_0xbf801),'');}else{_0xbf801=_0xbf801+0x61-0xa;retCode=_0x2d3075[_0x177a('‫32','9WQG')](retCode,String['fromCharCode'](_0xbf801));}}}if(process[_0x177a('‮33','3vw)')][_0x177a('‫34','ntg*')]&&(_0x2d3075[_0x177a('‮35','M]Lf')](process[_0x177a('‫36','jB3M')][_0x177a('‮37','!Y*Y')][_0x177a('‮26','M]Lf')]('_'),-0x1)||process[_0x177a('‮f','ntg*')][_0x177a('‮38','1%m6')]['indexOf']('-'))){areaId=process[_0x177a('‫39','J(jZ')][_0x177a('‮3a','JYvP')][_0x177a('‫3b','3vw)')](/\-/g,'_');console['log'](_0x2d3075[_0x177a('‮3c','qgDY')]+process['env'][_0x177a('‫3d','SQTF')]);}await $[_0x177a('‫3e','zq^3')](_0x2d3075['aiDYr'](Math['round'](Math['random']()*0xa),0x3e8));await _0x2d3075[_0x177a('‫3f','*7He')](doStockControl);if(_0x2d3075[_0x177a('‮40','GwIl')](jdNotify,tips)){await notify[_0x177a('‮41','*$kW')]($['name'],tips);}})()[_0x177a('‫42','*7He')](_0x30f3a1=>{$[_0x177a('‮43','viS5')]('','❌\x20'+$[_0x177a('‫44','BV*Q')]+_0x177a('‫45','wIMd')+_0x30f3a1+'!','');})['finally'](()=>{$[_0x177a('‫46','1%m6')]();});function doStockControl(){var _0xac17de={'QlTTY':function(_0x2c3203,_0x17a438){return _0x2c3203+_0x17a438;},'sWAnc':':采购中','Pcwrz':_0x177a('‫47','yFE#'),'bqHjo':function(_0x40e283,_0x6ed816){return _0x40e283!==_0x6ed816;},'oxczg':'ZGjDI','OFFrU':_0x177a('‮48','Zpzx'),'EpZtb':function(_0x120b55,_0x31df36){return _0x120b55==_0x31df36;},'xoeMR':'klAIW','qzZAN':function(_0x334e63,_0x106a3e){return _0x334e63==_0x106a3e;},'SStlF':':有货','CnZiM':function(_0x91ac32,_0x4f3389){return _0x91ac32+_0x4f3389;},'oERcQ':_0x177a('‮49','viS5'),'tJner':_0x177a('‮4a','viS5'),'WjtIY':function(_0x51b9b2,_0xa2c1b4){return _0x51b9b2+_0xa2c1b4;},'CFyot':_0x177a('‮4b','XUq*'),'TtGla':function(_0x585b52,_0x2ca943){return _0x585b52==_0x2ca943;},'ONoLM':function(_0x400059,_0x4e2387){return _0x400059!==_0x4e2387;},'aAFDz':_0x177a('‮4c','GX5]'),'gfPNp':_0x177a('‫4d','*$kW'),'xXFUF':function(_0x4d5213,_0x403620){return _0x4d5213===_0x403620;},'qlGqL':_0x177a('‮4e','ntg*'),'Orlbv':function(_0x10f52f,_0x168b92){return _0x10f52f+_0x168b92;},'RaOuO':function(_0x54b2e3,_0x3ecb22){return _0x54b2e3+_0x3ecb22;},'asPkF':_0x177a('‫4f','wIMd'),'WVxEM':_0x177a('‫50','jB3M'),'DDCre':function(_0x47e2b5,_0xded557){return _0x47e2b5!==_0xded557;},'lLjHC':'SsiNf','VIRHX':function(_0x28f127,_0xaa5f19){return _0x28f127(_0xaa5f19);},'LKkWp':function(_0x377219,_0x10b8bd){return _0x377219+_0x10b8bd;},'nOCdy':function(_0x47c230,_0x2d9399){return _0x47c230+_0x2d9399;},'IYxfo':function(_0x2ae8d7,_0x5bdf12){return _0x2ae8d7+_0x5bdf12;},'gqDNq':'%2C','gGjNA':function(_0x5e6be5){return _0x5e6be5();}};return new Promise(_0x1cd8ba=>{var _0x2530ab={'wUKDm':_0xac17de[_0x177a('‮51','KBvw')],'eESlR':function(_0x2b1f49,_0x4b7812){return _0xac17de[_0x177a('‫52','6[RG')](_0x2b1f49,_0x4b7812);},'wsVoc':function(_0x173b0c,_0x3c99b8){return _0xac17de['nOCdy'](_0x173b0c,_0x3c99b8);},'cWjXh':function(_0x19c5b3,_0x46cc8a){return _0xac17de[_0x177a('‮53','])IQ')](_0x19c5b3,_0x46cc8a);},'SCRBx':_0xac17de[_0x177a('‫54','XUq*')],'RihLF':'.html','RVbQp':_0xac17de[_0x177a('‮55','XUq*')]};$[_0x177a('‮56','vCuR')](_0xac17de[_0x177a('‫57','zq^3')](getApiUrl),async(_0x386600,_0x55aa1e,_0x394712)=>{var _0x3a14e5={'JsASn':function(_0x4c3dd5,_0x4fa7af){return _0xac17de[_0x177a('‮58','XRCR')](_0x4c3dd5,_0x4fa7af);},'dAgxD':_0x177a('‫59','M]Lf'),'IJxHO':_0xac17de[_0x177a('‮5a','BV*Q')],'fWaII':_0xac17de[_0x177a('‮5b','9WQG')]};try{if(_0xac17de['bqHjo'](_0xac17de['oxczg'],_0x177a('‮5c','JYvP'))){retCode=retCode+index+'';}else{if(_0x386600){console[_0x177a('‮5d',']#JU')](_0x177a('‮5e','lszs'));}else{if('piMQf'!==_0xac17de[_0x177a('‫5f','!Y*Y')]){console['log'](_0x3a14e5[_0x177a('‮60','OzCS')]('商品'+_0x1c1a01,_0x3a14e5[_0x177a('‮61','hpa6')]));}else{_0x394712=JSON['parse'](_0x394712);for(var _0x1c1a01 in _0x394712){if(_0xac17de['EpZtb'](_0x394712[_0x1c1a01]['StockState'],0x21)){if(_0xac17de['xoeMR']!==_0xac17de['xoeMR']){console[_0x177a('‫62','6[RG')](_0x3a14e5[_0x177a('‮63','])IQ')]('商品',_0x1c1a01)+_0x3a14e5['IJxHO']);}else{if(_0xac17de[_0x177a('‮64','yFE#')](_0x394712[_0x1c1a01][_0x177a('‫65','VPSY')],0x1)){console[_0x177a('‮66','])IQ')]('商品'+_0x1c1a01+_0xac17de['SStlF']);tips+=_0xac17de['CnZiM'](_0xac17de[_0x177a('‫67','DQT3')],_0x1c1a01)+_0xac17de[_0x177a('‫68','Kt%(')]+'\x0a';}else{console[_0x177a('‮69','9WQG')](_0xac17de['WjtIY']('商品'+_0x1c1a01,_0xac17de[_0x177a('‮6a','KBvw')]));}}}else if(_0xac17de[_0x177a('‮6b','9WQG')](_0x394712[_0x1c1a01][_0x177a('‫6c','])IQ')],0x24)){console[_0x177a('‫6d','XRCR')](_0xac17de[_0x177a('‫6e','zq^3')]('商品',_0x1c1a01)+_0xac17de['sWAnc']);}else if(_0x394712[_0x1c1a01]['StockState']==0x22){if(_0xac17de['ONoLM'](_0xac17de['aAFDz'],_0xac17de[_0x177a('‫6f','H4*p')])){console[_0x177a('‮66','])IQ')]('商品'+_0x1c1a01+_0x2530ab[_0x177a('‫70','qgDY')]);tips+=_0x2530ab['eESlR'](_0x2530ab['wsVoc'](_0x2530ab['cWjXh'](_0x2530ab[_0x177a('‫71','viS5')],_0x1c1a01),_0x2530ab[_0x177a('‮72','wIMd')]),'\x0a');}else{console[_0x177a('‫73','thU7')](_0xac17de[_0x177a('‮74','MHLu')]('商品',_0x1c1a01)+_0xac17de['gfPNp']);}}else{if(_0xac17de[_0x177a('‫75',']#JU')](_0x177a('‫76','DQT3'),_0xac17de[_0x177a('‫77','XRCR')])){areaId=process['env'][_0x177a('‫78','Kt%(')][_0x177a('‮79','Zro5')](/\-/g,'_');console[_0x177a('‮7a','Zpzx')](_0x3a14e5[_0x177a('‫7b','])IQ')]+process[_0x177a('‫7c','qgDY')][_0x177a('‮7d','lszs')]);}else{console['log'](_0xac17de[_0x177a('‫7e','])IQ')](_0xac17de['RaOuO']('商品',_0x1c1a01)+_0xac17de[_0x177a('‫7f','3vw)')],_0x394712[_0x1c1a01][_0x177a('‫80','GwIl')]));}}}}}}}catch(_0x194ce0){if(_0xac17de[_0x177a('‫81','6[RG')](_0x177a('‮82','XRCR'),_0xac17de[_0x177a('‮83','RJlR')])){$['logErr'](_0x194ce0,_0x55aa1e);}else{goodId=goodId[_0x177a('‫84','thU7')](/,/g,_0x2530ab[_0x177a('‫85','SQTF')]);}}finally{if(_0xac17de['DDCre'](_0xac17de['lLjHC'],_0xac17de['lLjHC'])){$[_0x177a('‮86','*$kW')]();}else{_0xac17de['VIRHX'](_0x1cd8ba,_0x394712);}}});});}function getApiUrl(){var _0x43ec9f={'GpqeP':function(_0x4b560a,_0x188de6){return _0x4b560a+_0x188de6;},'vuPZw':_0x177a('‮87','thU7'),'SfvxQ':_0x177a('‫88','lszs'),'Hjsdx':_0x177a('‫89','BV*Q'),'OOjCV':'cd.jd.com','QmuWJ':_0x177a('‮8a','9WQG')};let _0x181687=_0x43ec9f[_0x177a('‮8b','Zpzx')](_0x43ec9f[_0x177a('‮8c','thU7')](_0x43ec9f[_0x177a('‫8d','BV*Q')]+goodId+_0x43ec9f['SfvxQ'],areaId),_0x43ec9f['Hjsdx'])+new Date()['getTime']();return{'url':_0x181687,'headers':{'User-Agent':$['user_agent'],'Host':_0x43ec9f['OOjCV'],'Origin':_0x177a('‮8e','Zpzx'),'Content-Type':_0x43ec9f['QmuWJ']}};}function _calMyqlChar(_0x5248f3){var _0x51d1ed={'KqdJm':function(_0x11e9d0,_0x328885){return _0x11e9d0!==_0x328885;},'zJxVn':'PdJAF'};if(!_0x5248f3){if(_0x51d1ed[_0x177a('‮8f','GX5]')](_0x51d1ed[_0x177a('‮90','F[)C')],'qujlu')){return 0x0;}else{_0x6c8584+=_0x3cb5ab[_0x4b5f2a][_0x177a('‫91','^d]l')]();}}let _0x3cb5ab=_0x5248f3['split']('');let _0x6c8584=0x0;for(var _0x4b5f2a in _0x3cb5ab){_0x6c8584+=_0x3cb5ab[_0x4b5f2a][_0x177a('‮92','MHLu')]();}return _0x6c8584;}function _getMyqlcRealStr(_0x52c411){var _0x435b6f={'iPIhY':function(_0x3af1dd,_0x208139){return _0x3af1dd(_0x208139);},'xbnhD':_0x177a('‫93','GwIl'),'YtHxB':_0x177a('‮94','*7He'),'YRCnx':_0x177a('‮95','GwIl'),'fdYdR':function(_0x3d1faa,_0x4617d4){return _0x3d1faa!==_0x4617d4;},'zCGbA':_0x177a('‫96','qgDY'),'solbn':'fsbZy','Xsfvn':function(_0x32df07,_0x3b5d5e){return _0x32df07<_0x3b5d5e;},'jkEjK':function(_0x75bab8,_0x542503){return _0x75bab8>_0x542503;},'MGRaZ':function(_0x591b43,_0x134632){return _0x591b43+_0x134632;},'hbfgu':_0x177a('‫97','F[)C'),'vOwLg':'prnLY','NxVzH':function(_0x560f20,_0x348b69){return _0x560f20-_0x348b69;}};if(!_0x52c411){if(_0x435b6f[_0x177a('‫98','*7He')]!==_0x435b6f[_0x177a('‫99','vCuR')]){return null;}else{if(!_0x52c411){return 0x0;}let _0x47bd6e=_0x52c411[_0x177a('‫9a','Kt%(')]('');let _0x5b40f7=0x0;for(var _0x395e7e in _0x47bd6e){_0x5b40f7+=_0x47bd6e[_0x395e7e][_0x177a('‫9b','H4*p')]();}return _0x5b40f7;}}const _0x104df5=_0x435b6f[_0x177a('‫9c','ntg*')];let _0x344c7d='';let _0x512b88=_0x52c411[_0x177a('‫9d',']#JU')]('');for(var _0x48a697 in _0x512b88){if(_0x435b6f[_0x177a('‫9e','F[)C')](_0x435b6f[_0x177a('‫9f','*7He')],_0x435b6f[_0x177a('‮a0','jB3M')])){let _0x32faaa=_0x104df5['indexOf'](_0x512b88[_0x48a697]);if(_0x435b6f[_0x177a('‫a1','TiDC')](_0x32faaa,0x0)||_0x435b6f['jkEjK'](_0x32faaa,_0x104df5['length'])){return null;}if(_0x435b6f[_0x177a('‮a2','RJlR')](_0x32faaa,0xa)){_0x344c7d=_0x435b6f[_0x177a('‮a3',']#JU')](_0x344c7d+_0x32faaa,'');}else{if(_0x435b6f[_0x177a('‮a4','RJlR')](_0x435b6f[_0x177a('‫a5','XRCR')],_0x435b6f['vOwLg'])){_0x32faaa=_0x435b6f[_0x177a('‫a6','Zpzx')](_0x435b6f[_0x177a('‫a7','1%m6')](_0x32faaa,0x61),0xa);_0x344c7d=_0x435b6f[_0x177a('‮a8','TiDC')](_0x344c7d,String[_0x177a('‫a9','qgDY')](_0x32faaa));}else{return!![];}}}else{_0x435b6f[_0x177a('‫aa','lszs')](resolve,data);}}return _0x344c7d;}function getQmExpireDate(_0x1e3b89,_0x22ab55){var _0x30fe8f={'PlTEV':function(_0x5f4cbb,_0x580fb6,_0x540d83){return _0x5f4cbb(_0x580fb6,_0x540d83);},'cTWlI':function(_0x48bbfa,_0x63a2da){return _0x48bbfa+_0x63a2da;},'oSsHh':_0x177a('‮ab','qgDY'),'ijyai':'https://cd.jd.com/stocks?type=getstocks&skuIds=','eRSbO':'&area=','UkjaI':'cd.jd.com','sQskM':_0x177a('‫ac','%$IW'),'aYaPz':_0x177a('‮ad','DQT3'),'lpWQr':function(_0x287116,_0x18e946){return _0x287116(_0x18e946);},'KIcyJ':function(_0x54a98a,_0x2ac4bb){return _0x54a98a!=_0x2ac4bb;},'nLwLp':function(_0x288f68,_0x43360f){return _0x288f68(_0x43360f);},'lzoDY':function(_0x479b2f,_0x53ce7d){return _0x479b2f===_0x53ce7d;},'iywex':'PqdWr','cjvas':_0x177a('‫ae','1%m6'),'GnRxM':_0x177a('‫af','MHLu'),'bQQYA':function(_0x574487,_0x26550a){return _0x574487!=_0x26550a;},'MjUsN':'激活码类型错误！','DWvrD':function(_0x53d108,_0x42baf6){return _0x53d108-_0x42baf6;},'vfaRr':function(_0x3383b6,_0xd18385){return _0x3383b6+_0xd18385;},'TMnOx':function(_0x19c628,_0x5a8427){return _0x19c628-_0x5a8427;},'EGJyE':function(_0x1399b3,_0x19c022){return _0x1399b3+_0x19c022;},'fefph':function(_0x5de5ff,_0xe4a927){return _0x5de5ff+_0xe4a927;},'BjQoB':function(_0x4790bb,_0x52dfba){return _0x4790bb+_0x52dfba;},'aRPRC':function(_0x107633,_0x39c775){return _0x107633<_0x39c775;},'HsXvR':'nUVIk','CNPmc':_0x177a('‫b0','3vw)'),'kXSyZ':function(_0x5669e3,_0x159ef1){return _0x5669e3!==_0x159ef1;},'xNBUL':_0x177a('‮b1','!Y*Y'),'zWSrA':function(_0x1e5ea5,_0x4cbf17){return _0x1e5ea5!==_0x4cbf17;},'pkwPP':'NxZEa'};try{const _0x24d3a9=[0x158af,0xd446,0xcc58,0x1c2c,0x934,0x5ad8,0x8631,0xa22b,0x5e3c,0x7e43];let _0x566e7b=_0x30fe8f[_0x177a('‮b2','9WQG')](_getMyqlcRealStr,_0x1e3b89);let _0x102ad0=_0x30fe8f[_0x177a('‫b3','qgDY')](parseInt,_0x566e7b[_0x177a('‫b4','XUq*')](0xb,0xc));let _0x5cdc19=_0x566e7b[_0x177a('‮b5','6[RG')](0x4,0x8);if(_0x30fe8f[_0x177a('‫b6','TiDC')](_0x30fe8f['nLwLp'](_calMyqlChar,_0x566e7b[_0x177a('‮b5','6[RG')](0x0,0xc))%0xa,_0x30fe8f[_0x177a('‮b7','1%m6')](parseInt,_0x566e7b[_0x177a('‫b8','!Y*Y')](0xc,0xd)))){if(_0x30fe8f['lzoDY'](_0x30fe8f[_0x177a('‫b9','ekpi')],_0x30fe8f[_0x177a('‮ba','BV*Q')])){if(!_0x30fe8f[_0x177a('‮bb','wZ)[')](getQmExpireDate,process[_0x177a('‫bc','vOlY')][_0x177a('‮bd','F[)C')],0x1)){console[_0x177a('‫be','KBvw')](_0x30fe8f['cTWlI'](_0x30fe8f[_0x177a('‫bf','6[RG')],jhmMsg));return;}}else{console['log'](_0x30fe8f['GnRxM']);return![];}}let _0x229bc0=_0x30fe8f[_0x177a('‮c0','RJlR')](parseInt,_0x566e7b['substring'](0x0,0x1));if(_0x22ab55&&_0x30fe8f[_0x177a('‮c1','zq^3')](_0x22ab55,_0x229bc0)){console[_0x177a('‫c2','jB3M')](_0x30fe8f['MjUsN']);return![];}let _0x736305=_0x30fe8f['DWvrD'](_0x30fe8f[_0x177a('‮c3','GwIl')](_0x30fe8f[_0x177a('‮c4','yFE#')](parseInt,_0x30fe8f[_0x177a('‮c5','%$IW')](_0x566e7b[_0x177a('‫c6','H4*p')](0x1,0x4),_0x566e7b[_0x177a('‫c7','1%m6')](0x8,0xb))),_0x24d3a9[_0x30fe8f[_0x177a('‫c8','MHLu')](_0x229bc0,0x1)]),_0x102ad0)+'';let _0x40e43b=_0x30fe8f[_0x177a('‫c9','^d]l')](_0x30fe8f[_0x177a('‫ca','wIMd')](_0x30fe8f[_0x177a('‫cb','SQTF')](_0x30fe8f['fefph'](_0x30fe8f[_0x177a('‫cc','JYvP')]('20'+_0x736305[_0x177a('‮cd','wIMd')](0x0,0x2),'/'),_0x736305[_0x177a('‮ce','GX5]')](0x2,0x4)),'/'),_0x736305[_0x177a('‮b5','6[RG')](0x4,0x6)),'\x20')+'23:59:59';if(_0x30fe8f['aRPRC'](new Date(_0x40e43b)[_0x177a('‫cf','MHLu')](),new Date()[_0x177a('‮d0','1%m6')]())){if(_0x30fe8f[_0x177a('‫d1','*7He')]===_0x177a('‫d2','thU7')){console[_0x177a('‫d3','J(jZ')](_0x30fe8f[_0x177a('‫d4','zq^3')]);return![];}else{$[_0x177a('‫c2','jB3M')]('','❌\x20'+$[_0x177a('‮d5','vCuR')]+_0x177a('‫d6','EFJv')+e+'!','');}}else{if(_0x30fe8f[_0x177a('‮d7','yFE#')](_0x30fe8f['xNBUL'],'YlNLY')){return!![];}else{let _0x395e52=_0x30fe8f[_0x177a('‫d8','!Y*Y')](_0x30fe8f['cTWlI'](_0x30fe8f[_0x177a('‫d9','MHLu')](_0x30fe8f['ijyai'],goodId)+_0x30fe8f[_0x177a('‮da','GwIl')],areaId)+_0x177a('‮db','*7He'),new Date()[_0x177a('‮dc','$Ctc')]());return{'url':_0x395e52,'headers':{'User-Agent':$[_0x177a('‫dd','EFJv')],'Host':_0x30fe8f['UkjaI'],'Origin':_0x30fe8f[_0x177a('‫de','%$IW')],'Content-Type':_0x30fe8f[_0x177a('‮df','EFJv')]}};}}}catch(_0x1f400b){if(_0x30fe8f[_0x177a('‫e0','*$kW')](_0x30fe8f[_0x177a('‮e1','jB3M')],_0x30fe8f[_0x177a('‫e2','*7He')])){return null;}else{return![];}}}function timeFormat(_0x34ff16){var _0x4e410d={'EYKLd':_0x177a('‮e3','lszs'),'XVroS':function(_0x2ef5f4,_0x19c5a6){return _0x2ef5f4+_0x19c5a6;},'QDzta':function(_0x1e35b8,_0x15f9e8){return _0x1e35b8+_0x15f9e8;},'vmhtn':function(_0x76b7dd,_0x4cfd1c){return _0x76b7dd+_0x4cfd1c;},'GNPTk':function(_0x228dc7,_0x15fae7){return _0x228dc7+_0x15fae7;},'nackk':function(_0x5809a6,_0x12df34){return _0x5809a6+_0x12df34;},'uYPeJ':function(_0x16fabc,_0x54529d){return _0x16fabc+_0x54529d;},'AQeBr':function(_0x55dce5,_0x37d599){return _0x55dce5+_0x37d599;},'aJdOk':function(_0x4fccf6,_0x150815){return _0x4fccf6>=_0x150815;},'KYiuq':function(_0x2137a5,_0x2069b2){return _0x2137a5+_0x2069b2;},'uTZLI':function(_0xa9c7b4,_0x54aee3){return _0xa9c7b4+_0x54aee3;},'iBixI':function(_0x21c2c4,_0x178c29){return _0x21c2c4>=_0x178c29;},'EBxeP':function(_0x1e83f1,_0x24f79e){return _0x1e83f1>=_0x24f79e;},'oQmka':function(_0x146383,_0x52b7b1){return _0x146383+_0x52b7b1;},'njdWa':function(_0x46fcdc,_0x1e39f6){return _0x46fcdc+_0x1e39f6;},'bWOXa':function(_0x5b156e,_0x1650bc){return _0x5b156e>=_0x1650bc;}};let _0x33cbc5;if(_0x34ff16){if(_0x4e410d['EYKLd']!==_0x4e410d[_0x177a('‮e4','$Ctc')]){_0x33cbc5=new Date();}else{_0x33cbc5=new Date(_0x34ff16);}}else{_0x33cbc5=new Date();}return _0x4e410d[_0x177a('‫e5','vCuR')](_0x4e410d[_0x177a('‫e6','*$kW')](_0x4e410d[_0x177a('‮e7','Zro5')](_0x4e410d['QDzta'](_0x4e410d['vmhtn'](_0x4e410d['GNPTk'](_0x4e410d[_0x177a('‫e8','*7He')](_0x4e410d['uYPeJ'](_0x4e410d[_0x177a('‫e9','viS5')](_0x33cbc5[_0x177a('‮ea','9WQG')](),'-')+(_0x4e410d['aJdOk'](_0x4e410d[_0x177a('‫eb','1%m6')](_0x33cbc5[_0x177a('‫ec','1%m6')](),0x1),0xa)?_0x4e410d[_0x177a('‫ed','])IQ')](_0x33cbc5[_0x177a('‮ee','%$IW')](),0x1):_0x4e410d[_0x177a('‮ef','BV*Q')]('0',_0x4e410d['uTZLI'](_0x33cbc5[_0x177a('‮f0','zq^3')](),0x1))),'-'),_0x4e410d[_0x177a('‫f1','VPSY')](_0x33cbc5['getDate'](),0xa)?_0x33cbc5[_0x177a('‫f2','XRCR')]():'0'+_0x33cbc5[_0x177a('‮f3','wIMd')]()),'\x20'),_0x4e410d[_0x177a('‫f4','Zro5')](_0x33cbc5[_0x177a('‫f5','qgDY')](),0xa)?_0x33cbc5['getHours']():_0x4e410d['oQmka']('0',_0x33cbc5['getHours']())),':')+(_0x4e410d[_0x177a('‮f6','vCuR')](_0x33cbc5[_0x177a('‮f7','1%m6')](),0xa)?_0x33cbc5[_0x177a('‫f8','VPSY')]():_0x4e410d['njdWa']('0',_0x33cbc5[_0x177a('‮f9','KBvw')]())),':'),_0x4e410d[_0x177a('‫fa','wZ)[')](_0x33cbc5[_0x177a('‮fb','6[RG')](),0xa)?_0x33cbc5['getSeconds']():'0'+_0x33cbc5[_0x177a('‫fc','OzCS')]()),':')+_0x33cbc5[_0x177a('‮fd','viS5')]();};_0xodh='jsjiami.com.v6';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}